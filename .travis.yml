language: python
python:
- 3.8.5
addons:
  postgresql: '12.3'
services:
- postgresql
install:
- pip install -r requirements.txt
script:
- pipenv install flask_script
# - createdb eth_crowdfund_api_db_test
# - python manage.py db migrate
# - python manage.py db upgrade
- pytest
deploy:
  provider: heroku
  api_key:
    secure: DEfHuRkuhfeLs8+N/OdGIUo2po+G4RTbdegqtP0xK0Y3/n195SfmKtSnbbDAxJkvohzVpxfk62GaYaW/kuDb+n9M929qwr7ydor1aU3daRBs88XB7I5o0MnpT2++LLg6GUobqvaRMnwsqykqkkKUTiAeLqWt3DZAgfuzOWYWbxh9KilIkPZlUOc4Jwo5pq4PIq07+CBGNRy04d0FeMcVpnTN3dt68ygwKmFYujz+8S3CQIgg2pslpupTkWbG4pLVM8WwPCRbWxSGghDOyQmxo1s3g0KV5mRXYHXeWcx+KqNtOPtcaxlfRSIlcW+CqJ1qQuCvQu97sJZC9EeATB3x6WAadCTPcKHsLvoEY5CqTGNzCSSarkFo81j1nHNi5NmrghwczJO9oT17pLJ4kWxRd2PUtnORLHRHEpyxvmY/cGzMfDzy+f4DbdQ+WOxZVqPSdLtWM/vumDJakBUsmKZqQMbHArU65vwXseRaj9do0WMkRU8vV/WAuol2RFDlZYrfBE/vNXVMb2+Ouio7DWd7A+h5YIj0ym49BU5bT5ZgWcr2PsCd0OT1oWB+lVooitzqyOCMRmn3suU2LBmqBgAGchkVPsnCJ2/uBX9aOzwdMCqi0SrQ1t9UunT3g5C8R8zVhgOsmWEUixO/VfmCwC23w8xfR7Lyun2XhlxGupqe8tU=
  app: etho-boost
  on:
    repo: Eth-Crowdfund/eth_crowdfund_be
  skip_cleanup: 'true'
